## 데이터 베이스 관리 시 유의사항

### 사용자 계정 및 권한 관리

- 권한 분리
  - 데이터베이스 접근 시 반드시 **최소 권한 원칙**을 따라야 한다
  - 관리자는 관리자용 계정, 일반 사용자는 제한된 권한의 계정으로 접속하도록 설정
- 계정 생성 및 권한 부여
  - `root` 계정 등 기본 계정 사용을 지양
  - 역할에 따라 사용자 계정 생성하여 필요한 권한만 할당
- 비밀번호 보안 강화
  - 강력한 비밀번호 정책 사용, 주기적으로 비밀번호 변경 권장

### 트랜잭션 및 오토 커밋 설정

- 자동 커밋 설정
  - 운영 환경에서는 오토 커밋을 비활성화
    - 의도하지 않는 상태에서 데이터가 자동으로 커밋되어 일관성이 깨질 수 있다
- 트랜잭션 관리
  - 트랜잭션은 일관성 있는 데이터 처리를 위해 사용
  - 중요한 데이터 작업시 `BEGIN TRANSACTION` , `COMMIT` , `ROLLBACK` 등 명령어 사용하여 관리
- 격리 수준 설정
  - 트랜잭션의 격리 수준을 업무 요구에 맞게 설정하여 데이터 정합성 보장
  - READ COMMITTED 혹은 SERIALIZABLE 등의 격리 수준을 상황에 맞게 선택

### 백업 및 복구 전략

- 주기적 백업
  - 데이터 손실 방지를 위한 정기적 백업 수행
  - 중요도에 따라 일일, 주간 등으로 결정
- 백업 테스트
  - 백업 데이터가 정상적으로 복구되는지 정기적으로 테스트

### 모니터링 및 성능 최적화

- 리소스 모니터링
  - 데이터베이스의 cpu, 메모리, 디스크 사용량 및 쿼리 속도 등을 모니터링 하여 성능 이슈가 발발하기 전에 대응
- 인덱스 관리
  - 데이터베이스에서 자주 사용되는 컬럼에 대해 인덱스를 설정하여 쿼리 성능 최적화
  - 불필요한 인덱스는 오히려 성능에 악영향일 끼치기도 함
- 쿼리 최적화
  - 실행 계획 확인 후 비효율적인 쿼리나 성능을 저하시키는 쿼리를 최적화 하여 성능 향상

### 보안 설정

- 네트워크 접근 제한
  - 데이터베이스에 접근 가능한 IP를 화이트리스트로 제한시켜 외부로부터의 불법 접근 막음
- 암호화
  - 중요한 데이터는 암호화하여 저장
  - 데이터베이스와 클라이언트 간의 통신을 SSL로 암호화하여 데이터 유출 방지
- 로깅 및 감사
  - 접속 기록이나 쿼리 로그를 활성화 시켜 접속 내역과 변경 사항을 추적할 수 있도록 함
  - 로그는 주기적으로 검토하고 이상 발견시 즉시 대응 가능해야함

### 데드락 및 잠금 관리

- 잠금 전략 관리
  - 잠금 전략을 잘 설정해 데드락을 방지하여 트랜잭션이 격리 수준에 따라 필요 이상으로 잠금되지 않도록 주의
- 데드락 모니터링
  - 데이터베이스가 데드락을 감지하고 필요 시 자동으로 트랜잭션을 롤백하거나 종료시킬 수 있는 설정을 활성화

### 스키마 및 데이터 변경 관리

- 스키마 변경 절차
  - 스키마 변경은 운영 환경에서 신중하게 진행해야함
  - 테스트 환경에서 충분한 검증 이후 운영환경에 적용
- 데이터 변경 기록
  - 데이터를 삭제하거나 대량으로 변경할 경우 변경 전 데이터를 백업하고 변경 이력을 기록하여 데이터 무결성 보장하도록 해야함
