## 영속성 컨텍스트

**영속성 컨텍스트는 엔티티 매니저가 관리하는 객체 저장소**, 작은 메모리 데이터베이스 처럼 동작한다.

### 엔티티 생명주기

1. Transient (비영속)
   1. 객체가 아직 영속성 컨텍스트에 포함되지 않은 상태
   2. `new` 키워드로 생성한 엔티티가 여기에 해당
2. Managed (영속)
   1. `EntityManager.persist()` , `find()` , `merge()` 등을 통해 영속성 컨텍스트에 포함된 상태
   2. 영속성 컨텍스트가 이 객체를 관리하며 변경 사항이 자동으로 데이터베이스에 반영될 수 있다
3. Detached (준영속)
   1. 영속성 컨텍스트에서 관리가 해제된 상태
   2. `EntityManager.close()` 또는 명시적으로 `detach()` 호출 시 발생
   3. 준영속 상태의 엔티티는 더 이상 데이터베이스와 동기화 되지 않음
4. Removed (삭제)
   1. `EntityManger.remove()` 호출 시, 영속성 컨텍스트에서 제거되고 데이터베이스에서도 삭제
