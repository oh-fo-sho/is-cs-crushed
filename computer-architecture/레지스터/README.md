### 레지스터란?

레지스터는 CPU 내부에 위치한 초고속 임시 저장 장치로 CPU가 데이터를 처리하거나 명령을 실행할 때 필요한 정보를 일시적으로 저장한다. 레지스터는 CPU와 동일한 속도로 작동하기 때문에 메모리(SSD, RAM)보다 훨씬 빠르다

# 레지스터의 특징

### 1. 초고속 작동

- CPU 내부에서 작동하므로 메모리보다 훨씬 빠른 데이터 접근 가능

### 2. 작은 크기

- 매우 제한된 크기를 가지며 일반적으로 몇 비트에서 수십 비트 수준이다
- 현대 CPU는 32비트, 64비트 레지스터를 주로 사용한다

### 3. 임시 저장

- 프로그램 실행 중 데이터나 명령을 잠시 저장하는데에 사용

### 4. 특정 목적

- 각 레지스터는 특정 용도에 따라 설계되어 사용된다
- 범용 레지스터, 특수 목적 레지스터 등으로 구분된다

# 레지스터의 역할

레지스터는 CPU의 연산과 데이터 흐름을 지원한다

### 1. 데이터 저장

- 연산 중 사용되는 데이터를 일시적으로 저장
  - 누산기와 출력 레지스터 등이 있다

### 2. 명령어 저장

- 현재 실행 중인 명령어나 다음에 실행할 명령어 저장

### 3. 주소 저장

- 메모리에서 읽거나 쓸 데이터의 주소 저장

### 4. 결과 저장

- 연산 결과를 임시로 저장하여 다음 작업에 사용

# 레지스터의 종류

## 1. 범용 레지스터 (General-Purpose Registers, GPRs)

- 데이터나 주소 등 다양한 정보를 저장한다
- 프로그래머가 직접 제어할 수 있다

[범용 레지스터](https://www.notion.so/1739e58b6727806a807be7e98ebb0fe5?pvs=21)

## 2. 특수 목적 레지스터 (Special-Purpose Registers)

- 특정 작업을 위해 설계된 레지스터
- **명령어 레지스터 (Instruction Register, IR)**
  - 현재 실행 중인 명령어를 저장
- **프로그램 카운터 (Program Counter, PC)**
  - 다음에 실행할 명령어의 메모리 주소를 저장
- **메모리 주소 레지스터 (Memory Address Register, MAR)**
  - 접근할 메모리 주소를 저장
- **메모리 데이터 레지스터 (Memory Data Register, MDR)**
  - 메모리에서 읽은 데이터 혹은 쓸 데이터 저장
- **스택 포인터 (Stack Pointer, SP)**
  - 스택 최상단의 주소를 가리킴
- **플래그 레지스터 (Flags Registers)**
  - 연산의 상태 정보를 저장 (Zero Flag, Carry Flag 등이 있음)

## 3. 상태 레지스터 (Status Registers)

- CPU의 상태나 연산 결과를 저장
- 주요 플래그
  - Zero Flag
    - 연산 결과가 0인지
  - Carry Flag
    - 자리 올림(캐리) 발생 여부
  - Sign Flag
    - 결과의 부호(양수/음수)
  - Overflow Flag
    - 산술 오버플로우 발생 여부

## 4. 주소 레지스터 (Address Registers)

- 메모리 주소를 저장
- CPU가 메모리에 접근할 때 사용

## 5. 입출력 레지스터 (I/O Registers)

- 입력 및 출력 장치와 데이터를 교환할 때 사용

## 6. 플로팅 포인트 레지스터 (Floating Point Registers)

- 부동소수점 연산에 사용되는 레지스터
- 고속 수학 연산에 활용

# 레지스터의 크기와 현대 CPU

### 1. 32비트 레지스터

- 32비트 CPU에서 사용
- 한번에 32비트 데이터 처리 가능

### 2. 64비트 레지스터

- 64비트 CPU에서 사용
- 한번에 더 많은 데이터(64비트) 처리 가능

### 3. 확장 레지스터

- 현대 CPU에서는 레지스터를 더 세분화 하거나 확장

# 레지스터의 중요성

### 1. CPU 성능

- 레지스터는 CPU 내부에서 가장 빠른 저장 장치로 작업 속도를 결정짓는 주요 요소
- 데이터를 메모리가 아닌 레지스터에 저장하면 연산 속도가 비약적으로 증가한다

### 2. 연산 효율성

- 연산에 직접 사용되므로 데이터의 빠른 처리가 가능

### 3. 컨텍스트 스위칭

- 멀티태스킹 환경에서 프로세스 전환 시 레지스터 데이터를 저장하고 복원하는데에 사용된다

# 레지스터와 메모리의 차이

| **구분**             | **레지스터(Register)**                                                                        | **메모리(Memory)**                                                          |
| -------------------- | --------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| **위치**             | CPU 내부에 위치                                                                               | CPU 외부(메인 메모리(RAM))에 위치                                           |
| **속도**             | 매우 빠름 (나노초 단위)                                                                       | 레지스터보다 느림 (나노초~마이크로초 단위)                                  |
| **용량**             | 매우 적음 (수십 바이트~수 킬로바이트)                                                         | 상대적으로 큼 (몇 GB 이상 가능)                                             |
| **비용**             | 매우 비쌈                                                                                     | 상대적으로 저렴                                                             |
| **목적**             | 데이터와 명령어를 일시적으로 저장하고 처리 속도 향상                                          | 프로그램 실행 중 데이터를 저장하거나 읽고 쓰는 데 사용                      |
| **접근 방식**        | 직접 접근 (CPU가 바로 사용 가능)                                                              | 간접 접근 (주소를 통해 접근)                                                |
| **사용 사례**        | 연산 중 데이터 임시 저장, 명령어 실행                                                         | 실행 중인 프로그램의 코드, 데이터, 변수 저장                                |
| **종류**             | - 범용 레지스터 (General-Purpose Register)- 특수 레지스터 (Program Counter, Stack Pointer 등) | - 주 메모리 (RAM)- 가상 메모리 (Virtual Memory)- 캐시 메모리 (Cache Memory) |
| **휘발성 여부**      | 휘발성 (전원 꺼지면 데이터 손실)                                                              | 일반적으로 휘발성 (RAM), 일부 비휘발성(Flash Memory)                        |
| **데이터 저장 방식** | 매우 제한적 (데이터 및 명령어의 일부만 저장 가능)                                             | 대량의 데이터 및 프로그램 코드 저장 가능                                    |
| **CPU와의 거리**     | CPU 내부에 위치                                                                               | CPU와 별도의 데이터 버스를 통해 연결                                        |
| **예시**             | - x86: EAX, EBX, ECX 등- ARM: R0~R15                                                          | - RAM (Random Access Memory)- DRAM, SRAM 등                                 |

# 레지스터의 동작 과정

### 1. 데이터 로드

- CPU는 메모리에서 데이터를 레지스터로 로드

### 2. 연산

- ALU가 레지스터에 저장된 데이터를 사용하여 연산 수행

### 3. 저장

- 연산 결과를 다시 레지스터나 메모리에 저장

# 현대 CPU에서의 레지스터 활용

- **병렬 연산**
  - 레지스터는 병렬로 데이터를 처리하며, 현대 CPU에서 SIMD(Single Instruction, Multiple Data) 명령어를 지원
  - 예: AVX(Advanced Vector Extensions)
- **캐시와의 상호작용**
  - 레지스터는 캐시 메모리와 협력하여 데이터 접근 속도를 최적화
